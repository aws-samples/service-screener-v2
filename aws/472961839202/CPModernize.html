<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Service Screener | CPMODERNIZE</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <link rel="stylesheet" href="../res/plugins/fontawesome-free/css/all.min.css">
  <link rel="stylesheet" href="../res/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <link rel="stylesheet" href="../res/dist/css/adminlte.min.css">
  <link rel="stylesheet" href="../res/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <link rel="stylesheet" href="../res/plugins/select2/css/select2.min.css">
</head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">
  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="https://github.com/aws-samples/service-screener-v2" target=_blank rel="noopener noreferrer" class="nav-link">Visit Github</a>
      </li>
    </ul>

    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">
      <li class="nav-item d-none d-sm-inline-block">
        <span class="nav-link">Change Account ID: </span>
      </li>
      <li class="nav-item">
        <select class="form-control" id='changeAcctId'>
          <option value='472961839202' selected>472961839202</option>}
        </select>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-widget="fullscreen" href="#" role="button">
          <i class="fas fa-expand-arrows-alt"></i>
        </a>
      </li>
    </ul>
  </nav>
  <!-- /.navbar --><!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="#" class="brand-link">
      <img src="../res/dist/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
      <span class="brand-text font-weight-light">Service Screener</span>
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->
      <div class="user-panel mt-3 pb-3 mb-3 d-flex" style="padding-bottom:0px !important">
        <div class="image">
          <img src="https://a0.awsstatic.com/libra-css/images/logos/aws_smile-header-desktop-en-white_59x35.png" class="" alt="AWS Logo">
        </div>
        <div class="info">
          <a href="#" class="d-block" style="color: #ec902e">- <strong>Open Source Project</strong></a>
        </div>
      </div>
      <!-- Sidebar Menu -->
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
		  <li class="nav-item">
        <a href="index.html" class="nav-link ">
          <i class="nav-icon fas fa-home"></i>
          <p>
            Home
          </p>
        </a>
      </li>
<li class='nav-header'>Pages</li>
<li class='nav-item'>
<a href='CPFindings.html' class='nav-link '>
<i class='nav-icon fas fa-bug'></i>
<p>FINDINGS <span class='badge badge-info right' data-count='0'></span></p>
</a>
</li>
<li class='nav-item'>
<a href='CPModernize.html' class='nav-link '>
<i class='nav-icon fas fa-chart-line'></i>
<p>MODERNIZE <span class='badge badge-info right' data-count='0'></span></p>
</a>
</li>
<li class='nav-item'>
<a href='CPTA.html' class='nav-link '>
<i class='nav-icon fas fa-user-md'></i>
<p>TA <span class='badge badge-info right' data-count='0'></span></p>
</a>
</li>
<li class='nav-header'>Compliances / Frameworks</li>
<li class='nav-item'>
<a href='SPIP.html' class='nav-link '>
<i class='nav-icon fas fa-tasks'></i>
<p>SPIP <span class='badge badge-info right' data-count=''></span></p>
</a>
</li>
<li class='nav-header'>References</li>
<li class='nav-item'>
<a href='iam.html' class='nav-link '>
<i class='nav-icon fas fa-users'></i>
<p>IAM <span class='badge badge-info right' data-count='120'></span></p>
</a>
</li>
          <li class="nav-header">Others</li>
          <li class="nav-item">
            <a href="https://github.com/aws-samples/service-screener-v2/issues" target=_blank rel="noopener noreferrer" class="nav-link">
              <i class="nav-icon fas fa-ellipsis-h"></i>
              <p>Raise Issues</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="https://github.com/aws-samples/service-screener-v2" target="_blank" rel="noopener noreferrer" class="nav-link">
              <i class="nav-icon fas fa-star" style="color: gold;"></i>Give us a Star<i class="nav-icon fas fa-star" style="color: gold;"></i>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </aside><div class="content-wrapper">
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">CPMODERNIZE</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">CPMODERNIZE</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <section class='content'>
      <div class='container-fluid'><div class='row' data-context='description'>
<div class='col-md-12' >
<div id='CPModernize-Description' class='card card-warning '>
<div class='card-header'><h3 class='card-title'>Read Me</h3>
<div class='card-tools'><button type='button' class='btn btn-tool' data-card-widget='collapse'><i class='fas fa-minus'></i></button></div>
</div>
<div class='card-body '>
[Beta] (For Sankey diagram to generate, internet connectivity is required. The page loads D3 Javascript directly from d3 CDN) Modernisation is key to drive business value through newer technology. It is important that customers are continuously informed on the modernisation possibilities to allow them to make data driven decisions when choosing pathways or planning modernisation effective in the cloud. In order to provide this view the modernisation recommender feature should be leveraged.<br>This feature will allow customers that had previously embarked on AWS through a lift and shift or Rehost to get insights on possible modernisation pathways to further optimize their architecture leveraging AWS native services, compute architecture, managed data, managed database and container services.<br>The modernisation recommender should be used together with the AWS Modernisation Pathway to accelerate modernisation planning in  the cloud.<br><br>Read more <a target=_blank rel='noopener noreferrer' href='https://docs.aws.amazon.com/prescriptive-guidance/latest/strategy-modernizing-applications/welcome.html'>here</a>
</div>
</div>
</div>
</div>
<svg id='compute' xmlns='http://www.w3.org/2000/svg' ></svg>
<svg id='database' xmlns='http://www.w3.org/2000/svg' ></svg>  </div>
</section>
</div>
<footer class='main-footer'>
    <div class='float-right d-none d-sm-inline-block'>
		<strong>Service Screener</strong>, <b>Version</b> 2.3.0 is distributed under the <strong><a target=_blank rel='noopener noreferrer' href='https://www.apache.org/licenses/LICENSE-2.0'>Apache 2.0 License</a>, powered by <a target=_blank rel='noopener noreferrer' href='https://adminlte.io'>AdminLTE.io</a></strong>
    </div>
</footer>

<script src='../res/plugins/jquery/jquery.js'></script>
<script src='../res/plugins/bootstrap/js/bootstrap.bundle.min.js'></script>
<script src='../res/plugins/chart.js/Chart.min.js'></script>
<script src='../res/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js'></script>
<script src='../res/plugins/select2/js/select2.full.min.js'></script>
<script src='../res/dist/js/adminlte.js'></script>
<script src='../res/dist/js/demo.js'></script>

<script src='https://d3js.org/d3.v5.min.js'></script>
<script src='https://unpkg.com/d3-sankey@0.7.1/build/d3-sankey.js'></script>
<script>$(function(){
$('#changeAcctId').change(function(){
    var url = window.location.href
    var arr = url.split("/")
    arr[arr.length - 2] = $(this).val()
    var newLink = arr.join('/')
    window.location.href = newLink
})
; 
    const width = 1650;
    const height = 500;
    
    var vnodes = []
    var vlinks = []
    buildD3Sankey('#compute', vnodes, vlinks)
    
    vnodes = []
    vlinks = []
    buildD3Sankey('#database', vnodes, vlinks)
    ;     
    function buildD3Sankey(eleId, vnodes, vlinks){
        let edgeColor = 'path';
    
        const _sankey = d3.sankey()
            .nodeAlign(d3.sankeyLeft)
            .nodeWidth(15)
            .nodePadding(10)
            .extent([[1, 1], [width - 1, height - 200]]);
        
        const sankey = ({nodes, links}) => _sankey({
            nodes: nodes.map(d => Object.assign({}, d)),
            links: links.map(d => Object.assign({}, d))
        });
    
    
        const f = d3.format(",.0f");
        const format = d => `# ${f(d)} `;
    
        const _color = d3.scaleOrdinal(d3.schemeCategory10);
        const color = name => _color(name.replace(/ .*/, ""));
    
        const svg = d3.select(eleId)
            .attr("viewBox", `0 0 ${width} ${height}`)
            .style("width", "100%")
            .style("height", "100%");
    
          data = {
              "nodes":vnodes,
              "links":vlinks
          }
          const {nodes, links} = sankey(data);
    
          svg.append("g")
              .attr("stroke", "#000")
              .selectAll("rect")
              .data(nodes)
              .join("rect")
              .attr("x", d => d.x0)
              .attr("y", d => d.y0)
              .attr("height", d => d.y1 - d.y0)
              .attr("width", d => d.x1 - d.x0)
              .attr("fill", d => color(d.name))
              .append("title")
              .text(d => `${d.name}
                ${format(d.value)}`);
    
          const link = svg.append("g")
              .attr("fill", "none")
              .attr("stroke-opacity", 0.5)
              .selectAll("g")
              .data(links)
              .join("g")
              .style("mix-blend-mode", "multiply");
    
          function update() {
              if (edgeColor === "path") {
                  const gradient = link.append("linearGradient")
                      .attr("id", (d,i) => {
                      const id = `link-${i}`;
                      d.uid = `url(#${id})`;
                      return id;
                      })
                      .attr("gradientUnits", "userSpaceOnUse")
                      .attr("x1", d => d.source.x1)
                      .attr("x2", d => d.target.x0);
    
                  gradient.append("stop")
                      .attr("offset", "0%")
                      .attr("stop-color", d => color(d.source.name));
    
                  gradient.append("stop")
                      .attr("offset", "100%")
                      .attr("stop-color", d => color(d.target.name));
              }
    
              link.append("path")
                  .attr("d", d3.sankeyLinkHorizontal())
                  .attr("stroke", d => edgeColor === "path" ? d.uid
                      : edgeColor === "input" ? color(d.source.name)
                      : color(d.target.name))
                  .attr("stroke-width", d => Math.max(1, d.width));
          }
                  
          update();
    
          link.append("title")
              .text(d => `${d.source.name} â†’ ${d.target.name}
                  ${format(d.value)}`);
    
          svg.append("g")
              .style("font", "10px sans-serif")
              .selectAll("text")
              .data(nodes)
              .join("text")
              .attr("x", d => d.x0 < width / 2 ? d.x1 + 6 : d.x0 - 6)
              .attr("y", d => (d.y1 + d.y0) / 2)
              .attr("dy", "0.35em")
              .attr("text-anchor", d => d.x0 < width / 2 ? "start" : "end")
              .text(d => d.name);
    
              
    }
    })</script>
</body>
</html>